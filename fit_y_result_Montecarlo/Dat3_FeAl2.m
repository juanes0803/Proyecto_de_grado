
D1=[0.21715817694369968 6.114803625377643;0.2428954423592493 5.244712990936557;0.268632707774799 4.47129909365559;0.32171581769436997 3.375629405840887;0.3474530831099195 2.972809667673718;0.3715817694369973 2.7472306143001024;0.39731903485254694 2.618328298086608;0.42627345844504017 2.376636455186306];
D2=[0.5 2.3;0.475 2.6;0.45 3.0;0.425 3.3;0.4 3.8;0.375 4.1;0.35 4.5;0.325 4.9;0.3 5.1;0.275 5.5;0.25 5.9;0.225 6.7;0.2 6.9 ];

S=size(D1);
z = ones(S(1,1),1);



ft = fittype('(7/8)*(1+(1-x)*(1-x)*tanh((1-x)*J1./y))','independent', {'x', 'y'},'dependent', 'z' )


mdl = fit(D1,z,ft,'startpoint',1)
mdl.J1;
syms X Y


f2 = figure;
fimplicit((7/8)*(1+(1-X)*(1-X)*tanh(mdl.J1.*(1-X)/Y)) - 1,[0.15 0.55 0 8],'g')
hold on
txt2 = 'F';
text(0.35,2,txt2,'FontSize',14)
txt4 = 'P';
text(0.35,5.2,txt4,'FontSize',14)
grid on
plot(D1(:,1),D1(:,2),'ro')
plot(D2(:,1),D2(:,2),'b*')
title('Diagrama de fase sistema Fe-Al')
xlabel('x(%Al)')
ylabel('kTc(J)')
legend('teo','exp','simu')