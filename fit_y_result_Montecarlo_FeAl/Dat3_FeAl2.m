D2=[0.5 2.25;0.475 2.65;0.45 2.85;0.425 3.2;0.4 3.60;0.375 3.85;0.35 4.15;0.325 4.8;0.3 5.00;0.275 5.30;0.25 5.6;0.225 6.55;0.2 6.75 ];
D1=[0.21715817694369968 6.114803625377643;0.2428954423592493 5.244712990936557;0.268632707774799 4.47129909365559;0.32171581769436997 3.375629405840887;0.3474530831099195 2.972809667673718;0.3715817694369973 2.7472306143001024;0.39731903485254694 2.618328298086608;0.42627345844504017 2.376636455186306];

S=size(D1)
z = ones(S(1,1),1);



ft = fittype('(7/8)*(1+(1-x)*(1-x)*tanh((Ko+K1.*(1-x))/y))','independent', {'x', 'y'},'dependent', 'z' )

f1 = figure;

[mdl, goodness] = fit(D1,z,ft,'startpoint',[1 1])
mdl.K1;
syms X Y
fimplicit((7/8)*(1+(1-X)*(1-X)*tanh((mdl.Ko+mdl.K1.*(1-X))/Y)) - 1,[0.15 0.55 0 8],'g','LineWidth',2)
hold on
grid on
txt2 = 'F';
text(0.35,2,txt2,'FontSize',14)
txt4 = 'P';
text(0.35,5,txt4,'FontSize',14)
plot(D1(:,1),D1(:,2),'ro','MarkerSize',8)
plot(D2(:,1),D2(:,2),'b*','MarkerSize',8)
legend({'Modelo','Dat. Experimentales','Simulaci√≥n'})
set(gca, 'FontSize', 12)
xlabel('q(%Al)')
ylabel('k_{B}Tc/J')
